(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{17:function(e,t,n){},20:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAAiCAMAAABRP3qRAAAANlBMVEUAAAD////////////////////////////////////////////////////////////////////xY8b8AAAAEXRSTlMAIGDfn78QQIDvUG/Pr18wkLHt6SYAAAMgSURBVFjDxZfZmuQgCIVREOKW5f1fdozRwnRqFufrqeGiTU5A/iCxLfikuWLr2yfsN/i8HVYk728fBYbP22EAjIctlKHUSWgvwrZTuY4MvND6KSrl2TxYKiwOLAaLbNAKCqAB3LV4n7EjWpuWzhPLwLCl8+/JwwUW4ZN2ZEKCzmMS0gaw+7xWHiFMhccU40e/q/q96yWeO09JbX0BYklr4REUNgjmKOa/pqZTXf4BD7gFBA1nB7GUJYmULLQXHlsIY+M5wi2uivM8wVrLv+GpBcoeo4MNnSfgnJIzhYdTStR53D3Q/hWPKzHmjzwbtakjG9DbxnPIzR+/hWfelGcfNTn+O8+to+n/8xxxlB48gRKiW8ZsfGkUWssRYYnJRMTdI2bElFczy5P9raOXItHII3g02/mpodGaVjMXzfJyWCZ56AyVsZvRKk/hU0sNaB00NG94OA0eNMnDY8yJsg48oW4IUQLha2cw9TKYzXZNbL2MfQ+iGmVDdLWuczzgro7Wthx4ahqlkM5M6i4aOLyUv+R4Askcj1zpVVCeceVMbzTSFEIx8IPnJF+H9XZzPFASIYCmUop0PdGH3Mbwi+99O4Yo9jVqikc7GkvTDlUZW+uSt7YGuP6cJ+oOovQTPDWte3XzwCPng6VbLne2v/KBOcpbHl1PpZvhaZPxNSIPPOH4arYuiG93Pq9veFyro36h+xxP6+h+qzz2PQ8Yegk4QDwv29w0w9P61l+FNvClPtmO1vNw2F0D4sd6PeqzzPG0jub2QSuP+XWtRU+SI8/+qmOfOs7yVJSrm0ceKHJ6H6qp8xce3S91y5zi6RPXbUh5HpNJFK5RIa7DBE55dMvxPHggTPOI/u8beWToWIPXV8iHprOv+uSBnF4q8BkU53ng6k6jPCrj+jpjUNdS9Qy+LnEvMIrZ6rSn7E4PSdrxczyxneyVR4tyeJe8ftybr77Z1THfjrl++Eng0dehMM7zsL6q8lxAj70meNUc3w9K21cPrMo0D+zad8pT71I/6fErjnyjWUH9Kvl69/Aa9H1mxNpg7pqEovFXPzF3j20qzw/Oz0UU1nPeGwAAAABJRU5ErkJggg=="},22:function(e,t,n){e.exports=n.p+"static/media/avatar.045032a9.png"},25:function(e,t){e.exports="data:image/png;base64,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"},26:function(e,t){e.exports="data:image/png;base64,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"},29:function(e,t,n){e.exports=n(39)},39:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(19),r=n.n(c),i=(n(17),n(15)),s=n(27),u=n(2),l=n(1),p=n(20),m=n.n(p),d=n(7);var f=function(e){var t=e.user,n=e.onSignOut;return o.a.createElement("header",{className:"header"},o.a.createElement("div",{className:"header__logo",style:{backgroundImage:"url(".concat(m.a,")")}}),o.a.createElement("nav",{className:"header__navigation"},o.a.createElement(l.b,{path:"/sign-up"},o.a.createElement(d.b,{to:"/sign-in",className:"header__link"},"\u0412\u043e\u0439\u0442\u0438")),o.a.createElement(l.b,{path:"/sign-in"},o.a.createElement(d.b,{to:"/sign-up",className:"header__link"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),o.a.createElement(l.b,{exact:!0,path:"/"},o.a.createElement("div",{className:"header__info"},o.a.createElement("p",{className:"header__email"},t),o.a.createElement("button",{className:"header__button",onClick:n,type:"button"},"\u0412\u044b\u0439\u0442\u0438")))))},g=n(22),h=n.n(g),E=o.a.createContext();var v=function(e){var t=e.card,n=e.onCardClick,a=e.onCardLike,c=e.onCardDelete,r=o.a.useContext(E),i=t.owner._id===r._id,s="element__delete ".concat(i?"element__delete_active":""),u=t.likes.some((function(e){return e._id===r._id})),l="element__like ".concat(u?"element__like_active":"");return o.a.createElement("div",{className:"element"},o.a.createElement("img",{className:"element__image",alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",src:t.link,onClick:function(){n(t)}}),o.a.createElement("button",{className:"".concat(s),onClick:function(){c(t)},type:"button"}),o.a.createElement("div",{className:"element__text"},o.a.createElement("h2",{className:"element__title"},t.name),o.a.createElement("div",{className:"element__interactivity"},o.a.createElement("button",{type:"button",className:"".concat(l),onClick:function(){a(t)}}),o.a.createElement("span",{className:"element__like-counter"},t.likes.length))))};var A=function(e){var t=e.onEditProfile,n=e.onAddPlace,a=e.onEditAvatar,c=e.onCardClick,r=e.cards,i=e.onCardLike,s=e.onCardDelete,u=o.a.useContext(E);return o.a.createElement("main",{className:"content"},o.a.createElement("section",{className:"profile"},o.a.createElement("div",{className:"profile__image"},o.a.createElement("img",{className:"profile__avatar",src:u.avatar||h.a,alt:"\u0430\u0432\u0430\u0442\u0430\u0440"}),o.a.createElement("button",{onClick:a,className:"profile__avatar-edit"})),o.a.createElement("div",{className:"profile__info"},o.a.createElement("h1",{className:"profile__title"},u.name),o.a.createElement("button",{onClick:t,type:"button",className:"profile__edit-button"}),o.a.createElement("p",{className:"profile__subtitle"},u.about)),o.a.createElement("button",{onClick:n,type:"button",className:"profile__add-button"})),o.a.createElement("section",{className:"elements"},r.map((function(e){return o.a.createElement(v,{key:e._id,card:e,onCardClick:c,onCardLike:i,onCardDelete:s})}))))};var b=function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Mesto Russia"))};var N=function(e){var t=e.title,n=e.name,a=e.children,c=e.buttonText,r=e.isOpen,i=e.onClose,s=e.onSubmit,u=e.isLoading;return o.a.createElement("div",{className:"popup popup_type_".concat(n," ").concat(r&&"popup_active")},o.a.createElement("form",{onSubmit:s,className:"popup__container popup__container_type_".concat(n)},o.a.createElement("button",{onClick:i,type:"button",className:"popup__close-button"}),o.a.createElement("h2",{className:"popup__title"},t),a,o.a.createElement("button",{type:"submit",className:"popup__button"},u?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":c)))};var _=function(e){var t=e.isOpen,n=e.onClose,a=e.name,c=e.link;return o.a.createElement("div",{className:"popup popup_type_photo ".concat(t&&"popup_active")},o.a.createElement("div",{className:"popup__card"},o.a.createElement("button",{onClick:n,type:"button",className:"popup__close-button popup__close-button_photo"}),o.a.createElement("img",{className:"popup__card-image",alt:a,src:c}),o.a.createElement("p",{className:"popup__card-name"},a)))},C=n(23),O=n(24),k="https://auth.nomoreparties.co",j=new(function(){function e(t){Object(C.a)(this,e),this.apiUrl=t.apiUrl,this.headers=t.headers}return Object(O.a)(e,[{key:"_sendRequest",value:function(e,t){return fetch("".concat(this.apiUrl).concat(e),t).then((function(e){return e.ok?e.json():e.ok?void 0:Promise.reject(e.status)}))}},{key:"getUserInfo",value:function(){return this._sendRequest("/users/me",{headers:this.headers})}},{key:"sendUserInfo",value:function(e){return this._sendRequest("/users/me",{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e.name,about:e.about})})}},{key:"sendUserAvatar",value:function(e){return this._sendRequest("/users/me/avatar",{method:"PATCH",body:JSON.stringify({avatar:e.avatar}),headers:this.headers})}},{key:"getCards",value:function(){return this._sendRequest("/cards",{method:"GET",headers:this.headers})}},{key:"addCard",value:function(e){return this._sendRequest("/cards",{method:"POST",body:JSON.stringify({name:e.name,link:e.link}),headers:this.headers})}},{key:"changeLikeCardStatus",value:function(e,t){return t?this._sendRequest("/cards/likes/".concat(e),{method:"PUT",headers:this.headers}):this._sendRequest("/cards/likes/".concat(e),{method:"DELETE",headers:this.headers})}},{key:"deleteCard",value:function(e,t){if(!t)return this._sendRequest("/cards/".concat(e),{method:"DELETE",headers:this.headers})}}]),e}())({apiUrl:"https://mesto.nomoreparties.co/v1/cohort-13",headers:{authorization:"e66cf1b3-dadb-44df-be8a-bb3ba2569396","Content-Type":"application/json"}});var w=function(e){var t=e.isOpen,n=e.onClose,c=e.onUpdateUser,r=e.isLoading,i=o.a.useContext(E),s=Object(a.useState)(""),l=Object(u.a)(s,2),p=l[0],m=l[1],d=Object(a.useState)(""),f=Object(u.a)(d,2),g=f[0],h=f[1];return o.a.useEffect((function(){m(i.name),h(i.about)}),[i]),o.a.createElement(N,{name:"profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),c({name:p,about:g})},isLoading:r},o.a.createElement("fieldset",{className:"popup__inputs"},o.a.createElement("input",{defaultValue:p,className:"popup__input popup__input_name",id:"name-input",type:"text",required:!0,minLength:2,maxLength:40,pattern:"[A-Za-z\u0410-\u042f\u0401\u0430-\u044f\u0451 -]{1,}",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",onChange:function(e){m(e.target.value)}}),o.a.createElement("span",{className:"popup__error-message",id:"name-input-error"}),o.a.createElement("input",{defaultValue:g,className:"popup__input popup__input_text",id:"text-input",type:"text",required:!0,minLength:2,maxLength:40,placeholder:"\u041e \u0441\u0435\u0431\u0435",onChange:function(e){h(e.target.value)}}),o.a.createElement("span",{className:"popup__error-message",id:"text-input-error"})))};var y=function(e){var t=e.isOpen,n=e.onClose,a=e.onUpdateAvatar,c=e.isLoading,r=o.a.useRef("");return o.a.useEffect((function(){r.current.value=""}),[t]),o.a.createElement(N,{name:"avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),a({avatar:r.current.value})},isLoading:c},o.a.createElement("fieldset",{className:"popup__inputs"},o.a.createElement("input",{name:"avatar",className:"popup__input popup__input_avatar",id:"avatar-link",type:"url",placeholder:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",defaultValue:"",required:!0,ref:r}),o.a.createElement("span",{className:"popup__error-message",id:"avatar-link-error"})))};var S=function(e){var t=e.isOpen,n=e.onClose,a=e.onAddPlace,c=e.isLoading,r=o.a.useRef(""),i=o.a.useRef("");return o.a.useEffect((function(){r.current.value="",i.current.value=""}),[t]),o.a.createElement(N,{name:"card",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),a({name:r.current.value,link:i.current.value})},isLoading:c},o.a.createElement("fieldset",{className:"popup__inputs"},o.a.createElement("input",{name:"name",className:"popup__input popup__input_title",id:"title-input",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",defaultValue:"",required:!0,minLength:1,maxLength:30,ref:r}),o.a.createElement("span",{className:"popup__error-message",id:"title-input-error"}),o.a.createElement("input",{name:"link",className:"popup__input popup__input_link",id:"link-input",type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",defaultValue:"",required:!0,ref:i}),o.a.createElement("span",{className:"popup__error-message",id:"link-input-error"})))};var x=function(e){var t=e.onLogin,n=o.a.useState(""),a=Object(u.a)(n,2),c=a[0],r=a[1],i=o.a.useState(""),s=Object(u.a)(i,2),l=s[0],p=s[1];return o.a.createElement("form",{className:"login",onSubmit:function(e){e.preventDefault(),c&&l&&t(c,l,r,p)}},o.a.createElement("h3",{className:"popup__title login__title"},"\u0412\u0445\u043e\u0434"),o.a.createElement("input",{className:"popup__input login__input",name:"userEmail",type:"email",placeholder:"Email",onChange:function(e){r(e.target.value)},required:!0}),o.a.createElement("input",{className:"popup__input login__input",name:"userPassword",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){p(e.target.value)},required:!0}),o.a.createElement("button",{className:"popup__button login__button",type:"submit"},"\u0412\u043e\u0439\u0442\u0438"),o.a.createElement(d.b,{to:"/sign-up",className:"login__link"},"\u0401\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))};var L=function(e){var t=e.onSignup,n=o.a.useState(""),a=Object(u.a)(n,2),c=a[0],r=a[1],i=o.a.useState(""),s=Object(u.a)(i,2),l=s[0],p=s[1];return o.a.createElement("form",{className:"login",onSubmit:function(e){e.preventDefault(),t(c,l)}},o.a.createElement("h3",{className:"popup__title login__title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement("input",{className:"popup__input login__input",name:"userEmail",type:"email",placeholder:"Email",onChange:function(e){r(e.target.value)},required:!0}),o.a.createElement("input",{className:"popup__input login__input",name:"userPassword",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){p(e.target.value)},required:!0}),o.a.createElement("button",{className:"popup__button login__button",type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),o.a.createElement(d.b,{to:"/sign-in",className:"login__link"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"))},W=n(28),I=function(e){var t=e.component,n=Object(W.a)(e,["component"]);return o.a.createElement(l.b,null,(function(){return n.loggedIn?o.a.createElement(t,n):o.a.createElement(l.a,{to:"./sign-in"})}))},R=n(25),P=n.n(R),V=n(26),z=n.n(V);var U=function(e){var t=e.isOpen,n=e.onClose,a=e.isLoggedIn;return o.a.createElement("div",{className:"popup ".concat(t&&"popup_active")},o.a.createElement("div",{className:"popup__container"},o.a.createElement("button",{className:"popup__close-button",onClick:n,type:"button"}),o.a.createElement("div",{className:"infotooltip"},o.a.createElement("img",{className:"infotooltip__image",src:"".concat(a?z.a:P.a),alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"}),o.a.createElement("h3",{className:"infotooltip__title"},"".concat(a?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.")))))};var H=function(){var e=Object(a.useState)({}),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),p=Object(u.a)(r,2),m=p[0],d=p[1],g=Object(a.useState)(!1),h=Object(u.a)(g,2),v=h[0],C=h[1],O=Object(a.useState)(!1),W=Object(u.a)(O,2),R=W[0],P=W[1],V=Object(a.useState)(!1),z=Object(u.a)(V,2),H=z[0],J=z[1],B=Object(a.useState)({isImageOpen:!1,link:"",name:""}),T=Object(u.a)(B,2),q=T[0],Z=T[1],K=Object(l.g)(),G=Object(a.useState)(""),Q=Object(u.a)(G,2),X=Q[0],D=Q[1],Y=Object(a.useState)(!1),M=Object(u.a)(Y,2),F=M[0],$=M[1],ee=o.a.useState(!1),te=Object(u.a)(ee,2),ne=te[0],ae=te[1];o.a.useEffect((function(){function e(e){"Escape"===e.key&&se()}function t(e){e.target.classList.contains("popup_active")&&se()}return document.addEventListener("click",t),document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e),document.removeEventListener("click",t)}})),o.a.useEffect((function(){j.getUserInfo().then((function(e){c(e)})).catch((function(e){console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))}),[]);var oe=Object(a.useState)([]),ce=Object(u.a)(oe,2),re=ce[0],ie=ce[1];function se(){P(!1),d(!1),C(!1),J(!1),Z((function(e){return Object(i.a)(Object(i.a)({},e),{},{isImageOpen:!1})}))}o.a.useEffect((function(){j.getCards().then((function(e){ie(e)})).catch((function(e){console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))}),[]);var ue=function(){var e,t=localStorage.getItem("jwt");t&&(e=t,fetch("".concat(k,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.ok?e.json():Promise.reject("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))})).catch((function(e){return console.log(e)}))).then((function(e){e&&(D(e.data.email),ae(!0),K.push("/"))})).catch((function(e){return console.log(e)}))};function le(){J(!0)}return o.a.useEffect((function(){ue()}),[]),o.a.createElement(E.Provider,{value:n},o.a.createElement("div",{className:"page"},o.a.createElement(f,{onSignOut:function(){localStorage.removeItem("jwt"),D(""),ae(!1),K.push("/sign-in")},user:X}),o.a.createElement(l.d,null,o.a.createElement(I,{exact:!0,path:"/",component:A,loggedIn:ne,onEditProfile:function(){d(!0)},onAddPlace:function(){C(!0)},onEditAvatar:function(){P(!0)},onCardClick:function(e){var t=e.link,n=e.name;Z({isImageOpen:!0,link:t,name:n})},onCardLike:function(e){var t=e.likes.some((function(e){return e._id===n._id}));j.changeLikeCardStatus(e._id,!t).then((function(t){var n=re.map((function(n){return n._id===e._id?t:n}));ie(n)})).catch((function(e){console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))},onCardDelete:function(e){var t=e.owner._id===n._id;j.deleteCard(e._id,!t).then((function(t){var n=re.filter((function(n){return n._id===e._id?!t:n}));ie(n)})).catch((function(e){console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))},cards:re}),o.a.createElement(l.b,{path:"/sign-up"},o.a.createElement(L,{onSignup:function(e,t){(function(e,t){return fetch("".concat(k,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,email:e})}).then((function(e){return e.ok?e.json():Promise.reject("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))})(e,t).then((function(e){e&&(K.push("/"),ae(!0),le())})).catch((function(e){le(),console.log(e)}))}})),o.a.createElement(l.b,{path:"/sign-in"},o.a.createElement(x,{onLogin:function(e,t,n,a){(function(e,t){return fetch("".concat(k,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,email:e})}).then((function(e){return e.ok?e.json():Promise.reject("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))})).catch((function(e){return console.log(e)}))})(e,t).then((function(t){localStorage.setItem("jwt",t.token),D(e),n(""),a(""),ae(!0),K.push("/")})).catch((function(e){le(),console.log(e)}))}})),o.a.createElement(l.b,null,ne?o.a.createElement(l.a,{to:"/"}):o.a.createElement(l.a,{to:"/sign-in"}))),o.a.createElement(b,null),o.a.createElement("section",{className:"popups"},o.a.createElement(w,{isOpen:m,onClose:se,onUpdateUser:function(e){$(!0),j.sendUserInfo(e).then((function(e){c(e)})).catch((function(e){console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e))})).finally((function(){$(!1),se()}))},isLoading:F}),o.a.createElement(S,{isOpen:v,onClose:se,onAddPlace:function(e){$(!0),j.addCard(e).then((function(e){ie([].concat(Object(s.a)(re),[e]))})).catch((function(e){console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e))})).finally((function(){$(!1),se()}))},isLoading:F}),o.a.createElement(y,{isOpen:R,onClose:se,onUpdateAvatar:function(e){$(!0),j.sendUserAvatar(e).then((function(e){c(e)})).catch((function(e){console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e))})).finally((function(){$(!1),se()}))},isLoading:F}),o.a.createElement(_,{isOpen:q.isImageOpen,onClose:se,name:q.name,link:q.link}),o.a.createElement(U,{isOpen:H,onClose:se,isLoggedIn:ne}),o.a.createElement(N,{name:"card-delete",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",buttonText:"\u0414\u0430"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d.a,null,o.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.c532059f.chunk.js.map